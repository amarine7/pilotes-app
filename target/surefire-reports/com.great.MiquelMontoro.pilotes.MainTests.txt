-------------------------------------------------------------------------------
Test set: com.great.MiquelMontoro.pilotes.MainTests
-------------------------------------------------------------------------------
Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 3.419 s <<< FAILURE! - in com.great.MiquelMontoro.pilotes.MainTests
testLoginWithUsernameAndOtp  Time elapsed: 0 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'initialAuthenticationFilter'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: java.lang.IllegalArgumentException: providers list cannot contain null values

testRequestWithAuthorizationHeader  Time elapsed: 0 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'initialAuthenticationFilter'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: java.lang.IllegalArgumentException: providers list cannot contain null values

testLoginWithUsernameAndPassword  Time elapsed: 0 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'initialAuthenticationFilter'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager' defined in class path resource [com/great/MiquelMontoro/pilotes/security/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.authentication.AuthenticationManager]: Circular reference involving containing bean 'securityConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'authenticationManager' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values
Caused by: java.lang.IllegalArgumentException: providers list cannot contain null values

